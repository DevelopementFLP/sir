

<body>
  
  <div *ngIf="loading">Cargando fichas técnicas...</div>

  <div class="contenedor-de-pagina">
  <p-table *ngIf="!loading" [value]="fichaTecnica" [paginator]="true" [rows]="10" [responsive]="true" class="p-datatable-striped">
    <ng-template pTemplate="header">
      <tr>
        <th>ID</th>
        <th>Código de Producto</th>
        <th>Nombre de Producto</th>
        <th></th>
      </tr>
    </ng-template>

    <ng-template pTemplate="body" let-ficha>
      <tr>
        <td>{{ ficha.idFichaTecnica }}</td>
        <td>{{ ficha.codigoDeProducto }}</td>
        <td>{{ ficha.nombreDeProducto }}</td>
        <td>
          <button pButton type="button" icon="pi pi-pencil" label="Editar" (click)="AbrirModal(ficha)"></button>
          <button pButton type="button" icon="pi pi-trash" label="Eliminar" class="p-button-danger" (click)="EliminarFicha(ficha.idFichaTecnica!)"></button>
        </td>
      </tr>
    </ng-template>
  </p-table>

  <!-- Modal para editar ficha técnica -->
  <p-dialog [(visible)]="modalVisible" [style]="{width: '80%'}" header="Editar Ficha Técnica" [closable]="false">
    <!-- El componente de editar ficha técnica aquí -->
    <app-editar-ficha-tecnica [ficha]="fichaSeleccionada" (cerrarModal)="CerrarModal()"></app-editar-ficha-tecnica>
    
    <p-footer>
      <button pButton label="Cerrar" icon="pi pi-times" (click)="modalVisible = false"></button>
    </p-footer>
  </p-dialog>
  </div>
</body>
