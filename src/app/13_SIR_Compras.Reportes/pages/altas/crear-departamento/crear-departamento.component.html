

<div class="contenedor-pagina" [ngClass]="{ foco: mostrarPopUp }">
    
    
    <div class="seccion-formulario">

        
        <button pButton type="button" label="Crear Departamento" icon="pi pi-plus" class="btn_mostrarPopUp" (click)="mostrarPopUpDepartamento()"></button>   
                
        <div class="contenedor__tituloBotones">
          <div class="titulo">
            <h1>LISTADO DE DEPARTAMENTOS</h1>
              </div>  
              <div class="contenedor__botones">
                <button pButton type="button" label="Editar" icon="pi pi-pencil" [disabled]="!filaSeleccionada" (click)="editarFila()"></button>
                <button pButton type="button" label="Eliminar" icon="pi pi-trash" class="btn_borrar" [disabled]="!filaSeleccionada" (click)="borrarFila()"></button>
              </div>
          </div>


            <!-- Tabla para ver los datos actuales antes de crear uno  -->
      <div class="tablaMostrar">
        <p-table
          class="tabla"
          [value]="departamentoExistente!"
          [paginator]="true"
          [rows]="10"
          [rowsPerPageOptions]="[10,20,40]"
          styleClass="p-datatable-striped"
          [scrollable]="true"
          scrollHeight="500px"
          [selectionMode]="'single'"
          (onRowSelect)="seleccionarFila($event)"
          (onRowUnselect)="desSeleccionarFila($event)"
        >
          <ng-template pTemplate="header">
            <tr>
              <th class=""><div class="columna">Nombre</div></th>
              <th class=""><div class="columna">Código</div></th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-departamento>
            <tr [pSelectableRow]="departamento" [class.selected-row]="filaSeleccionada === departamento">
              <td class="">
                <div class="valor">{{departamento.nombre}}</div>
              </td>
              <td class="">
                <div class="valor">{{departamento.codigo}}</div>
              </td>
              <td class="">
                <!-- <button pButton type="button" label="" icon="pi pi-trash" class="btn_borrar" (click)="borrarFila(atributo.idAtributo)"></button> -->
              </td>
            </tr>
          </ng-template>
        </p-table>
      </div>
      <!-- Cierra tabla -->

    </div>
  </div>
      <div class="popUpCrear" *ngIf="mostrarPopUp">

        <div class="botones_cerrar_popUp">
          <button
            pButton
            type="button"
            label=""
            icon="pi pi-times"
            class="btn_cerrarPopUp"
            (click)="cerrarPopUpDepartamento()"
          ></button>
        </div>

        <div class="titulo tituloPopUp">
          <h1 *ngIf="!estaEditando">CREAR DEPARTAMENTO</h1>
          <h1 *ngIf="estaEditando">ACTUALIZAR DEPARTAMENTO</h1>
          </div>


    <div class="contenedor-campos">
      <label>Nombre del Departamento</label>
      <input 
          type="text" 
          [(ngModel)]="nombreDepartamento" 
          name="nombreDepartamento"
          placeholder="Ingrese el nombre"  
          required> 
    </div>

    
    <div class="contenedor-campos">
      <label>Código Departamento</label>
      <input 
          type="text" 
          [(ngModel)]="codigoDepartamento" 
          name="codigoDepartamento"
          placeholder="Ingrese el código del departamento"  
          required> 
    </div>

      <button pButton type="button" label="Crear" icon="pi pi-plus" class="btn_crear" (click)="crearDepartamento()" *ngIf="!estaEditando"></button>   
      <button pButton type="button" label="Guardar" icon="pi pi-save" class="btn_crear" (click)="crearDepartamento()" *ngIf="estaEditando"></button>   
    <!-- </form> -->



</div>
