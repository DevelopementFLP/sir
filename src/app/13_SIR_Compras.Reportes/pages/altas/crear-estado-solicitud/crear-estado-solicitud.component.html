

<div class="contenedor-pagina">
    
    
    <div class="seccion-formulario">
            
      
      
      <button pButton type="button" label="Crear Estado" icon="pi pi-plus" class="btn_mostrarPopUp" (click)="mostrarPopUpEstadoSolicitud()"></button>  
      
      <div class="contenedor__tituloBotones">
        <div class="titulo">
          <h1>LISTADO DE ESTADOS DE SOLICITUD</h1>
              </div>  
              <div class="contenedor__botones">
                <button pButton type="button" label="Editar" icon="pi pi-pencil" [disabled]="!filaSeleccionada" (click)="editarFila()"></button>
                <button pButton type="button" label="Eliminar" icon="pi pi-trash" class="btn_borrar" [disabled]="!filaSeleccionada" (click)="borrarFila()"></button>
              </div>
          </div>


        <!-- Tabla para ver los datos actuales antes de crear uno  -->
<div class="tablaMostrar">
  <p-table
    class="tabla"
    [value]="estadoExistente!"
    [paginator]="true"
    [rows]="10"
    [rowsPerPageOptions]="[10,20,40]"
    styleClass="p-datatable-striped"
    [scrollable]="true"
    scrollHeight="500px"
    [selectionMode]="'single'"
    (onRowSelect)="seleccionarFila($event)"
    (onRowUnselect)="desSeleccionarFila($event)"
  >
    <ng-template pTemplate="header">
      <tr>
        <th class=""><div class="columna">Nombre</div></th>
        <th class=""><div class="columna">Orden</div></th>
        <th class=""><div class="columna">Color</div></th>
        <th class=""><div class="columna">Mostrar En Dashboard</div></th>
        <th class=""><div class="columna">ID</div></th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-estado>
      <tr [pSelectableRow]="estado" [class.selected-row]="filaSeleccionada === estado">
        <td class="">
          <div class="valor">{{estado.nombre}}</div>
        </td>
        <td class="">
          <div class="valor">{{estado.orden}}</div>
        </td>

        <td class="">
          <div class="valor" [style.background-color]="estado.color">{{estado.color}}</div>
        </td>
        <td class="">
          <div class="valor">{{estado.mostrarEnPantalla ? 'SÃ­': 'No'}} </div>
        </td>
      
        <td class="">
          <div class="valor">{{estado.idEstadoDeSolicitud}}</div>
        </td>
       
        <td class="">
          <!-- <button pButton type="button" label="" icon="pi pi-trash" class="btn_borrar" (click)="borrarFila(estado.idEstadoDeSolicitud)"></button> -->
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>

</div>
</div>

<!-- Cierra tabla -->

<div class="popUpCrear" *ngIf="mostrarPopUp">


  <div class="botones_cerrar_popUp">
    <button
      pButton
      type="button"
      label=""
      icon="pi pi-times"
      class="btn_cerrarPopUp"
      (click)="cerrarPopUpEstadoSolicitud()"
    ></button>
  </div>


  <div class="titulo tituloPopUp">
    <h1 *ngIf="!estaEditando">CREAR ESTADO DE SOLICITUD</h1>
    <h1 *ngIf="estaEditando">ACTUALIZAR ESTADO DE SOLICITUD</h1>
    </div>



    <div class="contenedor-campos">
      <label>Nombre del Estado</label>
      <input 
          type="text" 
          [(ngModel)]="nombre" 
          name="nombreEstado"
          placeholder="Ingrese el Nombre"  
          required> 
    </div>
    <div class="contenedor-campos">
      <label>Color Dashboard</label>
      <input 
          type="color" 
          [(ngModel)]="color" 
          name="color"
          placeholder="Ingrese el Color en Exadecimal"  
          required> 
    </div>
    <div class="contenedor__mostrarEnPantalla">
      <label>Mostrar En Pantalla</label>
      <input 
          type="checkbox" 
          [(ngModel)]="mostrarEnPantalla" 
          class="chk_MostrarEnPantall"
          > 
    </div>

      <button pButton type="button" label="Crear" icon="pi pi-plus" class="btn_crear" (click)="crearEstadoSolicitud()" *ngIf="!estaEditando"></button>   
      <button pButton type="button" label="Guardar" icon="pi pi-save" class="btn_crear" (click)="crearEstadoSolicitud()" *ngIf="estaEditando"></button>   
</div>
