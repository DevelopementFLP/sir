

<div class="contenedor-pagina" [ngClass]="{ foco: mostrarPopUp }">
    
    
    <div class="seccion-formulario">
        <button pButton type="button" label="Crear Atributo" icon="pi pi-plus" class="btn_mostrarPopUp" (click)="mostrarPopUpAtributo()"></button>   

        <div class="contenedor__tituloBotones">
          <div class="titulo">
            <h1>LISTADO DE ATRIBUTOS</h1>
              </div>  
              <div class="contenedor__botones">
                <button pButton type="button" label="Editar" icon="pi pi-pencil" [disabled]="!filaSeleccionada" (click)="editarFila()"></button>
                <button pButton type="button" label="Eliminar" icon="pi pi-trash" class="btn_borrar" class="btn_borrar" [disabled]="!filaSeleccionada" (click)="eliminarFila()"></button>
              </div>
          </div>


        <!-- Tabla para ver los datos actuales antes de crear uno  -->
  <div class="tablaMostrar">
    <p-table
      class="tabla"
      [value]="atributosExistentes!"
      [paginator]="true"
      [rows]="10"
      [rowsPerPageOptions]="[10,20,40]"
      styleClass="p-datatable-striped"
      [scrollable]="true"
      scrollHeight="500px"
      [selectionMode]="'single'"
      (onRowSelect)="seleccionarFila($event)"
      (onRowUnselect)="desSeleccionarFila($event)"
    >
      <ng-template pTemplate="header">
        <tr>
          <th class=""><div class="columna">Nombre</div></th>
          <th class=""><div class="columna">Código</div></th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-atributo>
        <tr [pSelectableRow]="atributo" [class.selected-row]="filaSeleccionada === atributo">
          <td class="">
            <div class="valor">{{atributo.nombre}}</div>
          </td>
          <td class="">
            <div class="valor">{{atributo.codigoDeAtributo}}</div>
          </td>
          <td class="">
            <!-- <button pButton type="button" label="" icon="pi pi-trash" class="btn_borrar" (click)="borrarFila(atributo.idAtributo)"></button> -->
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
  <!-- Cierra tabla -->

    </div>
</div>
  <div class="popUpCrear" *ngIf="mostrarPopUp">


    <div class="botones_cerrar_popUp">
      <button
        pButton
        type="button"
        label=""
        icon="pi pi-times"
        class="btn_cerrarPopUp"
        (click)="cerrarPopUpAtributo()"
      ></button>
    </div>


    <div class="titulo tituloPopUp">
      <h1 *ngIf="!estaEditando">CREAR ATRIBUTO</h1>
      <h1 *ngIf="estaEditando">ACTUALIZAR ATRIBUTO</h1>
      </div>

      
    <div class="contenedor-campos">
      <label>Nombre del atributo</label>
      <input 
          type="text" 
          [(ngModel)]="nombreAtributo" 
          name="nombreEmpresa"
          placeholder="Ingrese el nombre"  
          required> 
    </div>

    
    <div class="contenedor-campos">
      <label>Código Atributo</label>
      <input 
          type="text" 
          [(ngModel)]="codigoAtributo" 
          name="codigoAtributo"
          placeholder="Ingrese el código del atributo"  
          required> 
    </div>

      <button pButton type="button" label="Crear" icon="pi pi-plus" class="btn_crear" (click)="crearAtributo()" *ngIf="!estaEditando"></button>   
      <button pButton type="button" label="Actualizar" icon="pi pi-plus" class="btn_crear" (click)="crearAtributo()" *ngIf="estaEditando"></button>   
   
  </div>
